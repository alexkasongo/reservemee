(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{456:function(e,t,n){"use strict";n.r(t);n(11),n(9),n(6),n(4),n(10),n(20),n(45);var r=n(13),o=n(1),l=(n(127),n(156)),c=n(54);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"Calendar",data:function(){return{time:null,date:(new Date).toISOString().substr(0,10),menu:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,menu7:!1,menu8:!1,modal:!1,startDate:(new Date).toISOString().substr(0,10),startTime:new Date,endDate:(new Date).toISOString().substr(0,10),endTime:new Date,timeStart:!1,timeEnd:!1,today:new Date,focus:new Date,type:"day",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},name:null,details:null,start:null,end:null,color:"#1976D2",currentlyEditing:null,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],dialog:!1,defaultEvents:[{booked:!0,color:"#9E9E9E",details:"Available for booking",end:(new Date).setHours(10,0,0),name:"Open",start:(new Date).setHours(9,0,0),timed:!0},{booked:!1,color:"#00897b",details:"Available for booking",end:(new Date).setHours(11,0,0),name:"Open",start:(new Date).setHours(10,0,0),timed:!0},{booked:!1,color:"#00897b",details:"Available for booking",end:(new Date).setHours(12,0,0),name:"Open",start:(new Date).setHours(11,0,0),timed:!0},{booked:!1,color:"#dc3545",details:"Lunch break",end:(new Date).setHours(13,0,0),name:"Lunch",start:(new Date).setHours(12,0,0),timed:!0},{booked:!1,color:"#00897b",details:"Available for booking",end:(new Date).setHours(14,0,0),name:"Open",start:(new Date).setHours(13,0,0),timed:!0},{booked:!1,color:"#00897b",details:"Available for booking",end:(new Date).setHours(15,0,0),name:"Open",start:(new Date).setHours(14,0,0),timed:!0},{booked:!0,color:"#9E9E9E",details:"Available for booking",end:(new Date).setHours(16,0,0),name:"Booked",start:(new Date).setHours(15,0,0),timed:!0},{booked:!1,color:"#00897b",details:"Available for booking",end:(new Date).setHours(17,0,0),name:"Open",start:(new Date).setHours(16,0,0),timed:!0}]}},computed:{user:function(){return this.$store.state.user},title:function(){var e=this.start,t=this.end;if(!e||!t)return"";var n=this.monthFormatter(e),r=this.monthFormatter(t),o=n===r?"":r,l=e.year,c=t.year,d=l===c?"":c,m=e.day+this.nth(e.day),v=t.day+this.nth(t.day);switch(this.type){case"month":return"".concat(n," ").concat(l);case"week":case"4day":return"".concat(n," ").concat(m," ").concat(l," - ").concat(o," ").concat(v," ").concat(d);case"day":return"".concat(n," ").concat(m," ").concat(l)}return""},monthFormatter:function(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})},submittableStartDateTime:function(){var e=new Date(this.startDate);if(e.setDate(e.getDate()+1),"string"==typeof this.startTime){var t=this.startTime.match(/^(\d+)/)[1],n=this.startTime.match(/:(\d+)/)[1];e.setHours(t),e.setMinutes(n)}else e.setHours(this.startTime.getHours()),e.setMinutes(this.startTime.getMinutes());return e},submittableEndDateTime:function(){var e=new Date(this.startDate);if(e.setDate(e.getDate()+1),"string"==typeof this.endTime){var t=this.endTime.match(/^(\d+)/)[1],n=this.endTime.match(/:(\d+)/)[1];e.setHours(t),e.setMinutes(n)}else e.setHours(this.endTime.getHours()),e.setMinutes(this.endTime.getMinutes());return e}},mounted:function(){this.setBookingState(null),this.getEvents()},methods:m(m({},Object(c.b)({setBookingState:"booking/setBookingState"})),{},{getEvents:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.collection(e.user.uid).get();case 2:n=t.sent,r=[],n.forEach((function(e){var t=[];t.id=e.id,t.color=e.data().color,t.details=e.data().details,t.end=e.data().end.toDate(),t.name=e.data().name,t.start=e.data().start.toDate(),t.timed=e.data().timed,r.push(t)})),r.length<=0&&(e.events=e.defaultEvents),r.length>0&&(e.events=r);case 7:case"end":return t.stop()}}),t)})))()},addEvent:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.submittableStartDateTime,r=e.submittableEndDateTime,!(e.name&&e.submittableStartDateTime&&e.submittableEndDateTime)){t.next=7;break}return t.next=5,l.a.collection(e.user.uid).add({name:e.name,details:e.details,start:n,end:r,color:e.color,timed:!0,booked:!1}).then((function(){e.$swal({toast:!0,position:"top-end",icon:"success",title:"Event added successfully.",showConfirmButton:!1,timer:3e3})}));case 5:t.next=8;break;case 7:e.$swal({toast:!0,position:"top-end",icon:"error",title:"Name, Start and End date are required",showConfirmButton:!0,timer:1e4});case 8:e.getEvents(),e.name="",e.details="",e.start="",e.end="",e.color="";case 14:case"end":return t.stop()}}),t)})))()},updateEvent:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.submittableStartDateTime,o=t.submittableEndDateTime,!(e.name&&t.submittableStartDateTime&&t.submittableEndDateTime)){n.next=10;break}return n.next=5,l.a.collection(t.user.uid).doc(t.currentlyEditing).update({details:e.details,name:e.name,start:r,end:o,color:e.color,timed:!0});case 5:t.selectedOpen=!1,t.currentlyEditing=null,t.getEvents(),n.next=11;break;case 10:t.$swal({toast:!0,position:"top-end",icon:"error",title:"Name, Start and End date are required",showConfirmButton:!0,timer:1e4});case 11:case"end":return n.stop()}}),n)})))()},viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(e){return e.color},setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},onBookTime:function(e){this.setBookingState(e)},showEvent:function(e){var t=this,n=e.nativeEvent,r=e.event,o=new Date(r.start).toISOString().substr(0,10),l=new Date(r.end).toISOString().substr(0,10),c=new Date(r.start),d=c.getDate(),m=c.getMonth()+1,v=(c.getFullYear(),c.getHours()),f=c.getMinutes();m=(m<10?"0":"")+m,d=(d<10?"0":"")+d;var h=(v=(v<10?"0":"")+v)+":"+(f=(f<10?"0":"")+f),k=new Date(r.end),_=k.getDate(),D=k.getMonth()+1,x=(k.getFullYear(),k.getHours()),w=k.getMinutes();D=(D<10?"0":"")+D,_=(_<10?"0":"")+_;var y=(x=(x<10?"0":"")+x)+":"+(w=(w<10?"0":"")+w),T=function(){t.selectedEvent=r,t.selectedElement=n.target,t.startDate=o,t.endDate=l,t.startTime=h,t.endTime=y,setTimeout((function(){t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(T,10)):T(),n.stopPropagation()},updateRange:function(e){e.start,e.end;console.log("Calendar.vue - 428 - ðŸ¥›")},nth:function(e){return e>3&&e<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][e%10]}})},f=n(41),h=n(75),k=n.n(h),_=n(117),D=n(566),x=n(185),w=n(124),y=n(428),T=n(446),E=n(567),O=n(517),S=n(465),P=n(98),M=n(180),V=n(116),j=n(53),C=n(184),$=n(429),H=n(38),I=n(432),B=n(77),R=n(591),A=n(61),N=n(439),component=Object(f.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:""}},[n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v("\n                Today\n            ")]),e._v(" "),n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-left ")])],1),e._v(" "),n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")])],1),e._v(" "),e.$refs.calendar?n("v-toolbar-title",[e._v("\n                "+e._s(this.title)+"\n            ")]):e._e(),e._v(" "),n("v-spacer"),e._v(" "),n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",o,!1),r),[n("span",[e._v(e._s(e.typeToLabel[e.type]))]),e._v(" "),n("v-icon",{attrs:{right:""}},[e._v(" mdi-menu-down ")])],1)]}}])},[e._v(" "),n("v-list",[n("v-list-item",{on:{click:function(t){e.type="day"}}},[n("v-list-item-title",[e._v("Day")])],1),e._v(" "),n("v-list-item",{on:{click:function(t){e.type="week"}}},[n("v-list-item-title",[e._v("Week")])],1),e._v(" "),n("v-list-item",{on:{click:function(t){e.type="month"}}},[n("v-list-item-title",[e._v("Month")])],1),e._v(" "),n("v-list-item",{on:{click:function(t){e.type="4day"}}},[n("v-list-item-title",[e._v("4 days")])],1)],1)],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.addEvent(t)}}},[n("v-text-field",{attrs:{type:"text",label:"event name (required)"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),n("v-text-field",{attrs:{type:"text",label:"detail"},model:{value:e.details,callback:function(t){e.details=t},expression:"details"}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"11",sm:"5"}},[n("v-menu",{ref:"date",attrs:{"close-on-content-click":!1,"return-value":e.startDate,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.startDate=t},"update:return-value":function(t){e.startDate=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Start Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{dark:"",text:"",color:"teal darker-1"},on:{click:function(t){e.menu=!1}}},[e._v("\n                                        Cancel\n                                    ")]),e._v(" "),n("v-btn",{attrs:{dark:"",text:"",color:"teal darker-1"},on:{click:function(t){return e.$refs.date.save(e.startDate)}}},[e._v("\n                                        OK\n                                    ")])],1)],1)],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"11",sm:"5"}},[n("v-menu",{ref:"endDate",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.startTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.startTime=t},"update:return-value":function(t){e.startTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Start Time","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[e._v(" "),e.menu2?n("v-time-picker",{attrs:{"full-width":"",format:"24hr"},on:{"click:minute":function(t){return e.$refs.endDate.save(e.startTime)}},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}):e._e()],1)],1),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"11",sm:"5"}},[n("v-menu",{ref:"end",attrs:{"close-on-content-click":!1,"return-value":e.endDate,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.endDate=t},"update:return-value":function(t){e.endDate=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"End Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[e._v(" "),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"teal darker-1"},on:{click:function(t){e.menu=!1}}},[e._v("\n                                        Cancel\n                                    ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"teal darker-1"},on:{click:function(t){return e.$refs.end.save(e.endDate)}}},[e._v("\n                                        OK\n                                    ")])],1)],1)],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"11",sm:"5"}},[n("v-menu",{ref:"endTime",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.endTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.endTime=t},"update:return-value":function(t){e.endTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"End Time","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu4,callback:function(t){e.menu4=t},expression:"menu4"}},[e._v(" "),e.menu4?n("v-time-picker",{attrs:{"full-width":"",format:"24hr"},on:{"click:minute":function(t){return e.$refs.endTime.save(e.endTime)}},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}):e._e()],1)],1),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-text-field",{attrs:{type:"color",label:"color (click to open color menu)"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),e._v(" "),n("v-btn",{staticClass:"mr-4",attrs:{dark:"",type:"submit",color:"teal darker-1"},on:{click:function(t){t.stopPropagation(),e.dialog=!1}}},[e._v("\n                        create event\n                    ")])],1)],1)],1)],1),e._v(" "),n("v-sheet",{attrs:{height:"500px"}},[n("v-calendar",{ref:"calendar",attrs:{color:"teal darker-1",events:e.events,"event-color":e.getEventColor,type:e.type,"first-interval":9},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay,change:e.updateRange},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),e._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[n("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[n("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-card-text",[e.currentlyEditing!==e.selectedEvent.id?n("form",[e._v("\n                        "+e._s(e.selectedEvent.details)+"\n                    ")]):n("form",[n("v-container",[n("v-text-field",{attrs:{type:"text",label:"event name (required)"},model:{value:e.selectedEvent.name,callback:function(t){e.$set(e.selectedEvent,"name",t)},expression:"selectedEvent.name"}}),e._v(" "),n("v-text-field",{attrs:{type:"text",label:"detail"},model:{value:e.selectedEvent.details,callback:function(t){e.$set(e.selectedEvent,"details",t)},expression:"selectedEvent.details"}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"11",sm:"5"}},[n("v-menu",{ref:"dateEdit",attrs:{"close-on-content-click":!1,"return-value":e.startDate,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.startDate=t},"update:return-value":function(t){e.startDate=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Start Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu5,callback:function(t){e.menu5=t},expression:"menu5"}},[e._v(" "),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{dark:"",text:"",color:"teal darker-1"},on:{click:function(t){e.menu5=!1}}},[e._v("\n                                                Cancel\n                                            ")]),e._v(" "),n("v-btn",{attrs:{dark:"",text:"",color:"teal darker-1"},on:{click:function(t){return e.$refs.dateEdit.save(e.startDate)}}},[e._v("\n                                                OK\n                                            ")])],1)],1)],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"11",sm:"5"}},[n("v-menu",{ref:"startTime",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.startTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.startTime=t},"update:return-value":function(t){e.startTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Start Time","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu6,callback:function(t){e.menu6=t},expression:"menu6"}},[e._v(" "),e.menu6?n("v-time-picker",{attrs:{"full-width":"",format:"24hr"},on:{"click:minute":function(t){return e.$refs.startTime.save(e.startTime)}},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}):e._e()],1)],1),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"11",sm:"5"}},[n("v-menu",{ref:"end",attrs:{"close-on-content-click":!1,"return-value":e.endDate,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.endDate=t},"update:return-value":function(t){e.endDate=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"End Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu7,callback:function(t){e.menu7=t},expression:"menu7"}},[e._v(" "),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{dark:"",text:"",color:"teal darker-1"},on:{click:function(t){e.menu7=!1}}},[e._v("\n                                                Cancel\n                                            ")]),e._v(" "),n("v-btn",{attrs:{dark:"",text:"",color:"teal darker-1"},on:{click:function(t){return e.$refs.end.save(e.endDate)}}},[e._v("\n                                                OK\n                                            ")])],1)],1)],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"11",sm:"5"}},[n("v-menu",{ref:"endTime",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.endTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.endTime=t},"update:return-value":function(t){e.endTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"End Time","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu8,callback:function(t){e.menu8=t},expression:"menu8"}},[e._v(" "),e.menu8?n("v-time-picker",{attrs:{"full-width":"",format:"24hr"},on:{"click:minute":function(t){return e.$refs.endTime.save(e.endTime)}},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}):e._e()],1)],1),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-text-field",{attrs:{type:"color",label:"color (click to open color menu)"},model:{value:e.selectedEvent.color,callback:function(t){e.$set(e.selectedEvent,"color",t)},expression:"selectedEvent.color"}})],1)],1)]),e._v(" "),n("v-card-actions",[n("v-btn",{staticClass:"teal darken-1",attrs:{text:"",dark:""},on:{click:function(t){e.selectedOpen=!1}}},[e._v("\n                        Close\n                    ")]),e._v(" "),e.currentlyEditing!==e.selectedEvent.id?n("v-btn",{staticClass:"teal darken-1",attrs:{text:"",dark:""},on:{click:function(t){return t.preventDefault(),e.onBookTime(e.selectedEvent)}}},[e._v("\n                        Select Time\n                    ")]):n("v-btn",{attrs:{text:""},on:{click:function(t){return t.preventDefault(),e.updateEvent(e.selectedEvent)}}},[e._v("\n                        Save\n                    ")])],1)],1)],1)],1)],1)}),[],!1,null,"6138cc2b",null);t.default=component.exports;k()(component,{VBtn:_.a,VCalendar:D.a,VCard:x.a,VCardActions:w.a,VCardText:w.c,VCol:y.a,VContainer:T.a,VDatePicker:E.a,VDialog:O.a,VForm:S.a,VIcon:P.a,VList:M.a,VListItem:V.a,VListItemTitle:j.c,VMenu:C.a,VRow:$.a,VSheet:H.a,VSpacer:I.a,VTextField:B.a,VTimePicker:R.a,VToolbar:A.a,VToolbarTitle:N.a})},457:function(e,t,n){"use strict";n.r(t);n(11),n(9),n(6),n(4),n(10),n(20);var r=n(1),o=n(54),l=n(8);n(156),n(126);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={data:function(){return{isModalVisible:!1,newMessage:null,feedback:null,uid:"",role:null}},computed:d(d(d({},Object(o.c)({messages:"chat/messages",storeProfile:"storeFront/loadedStoreProfile"})),Object(o.d)({user:"user",allUserData:"dashboard"})),{},{userProfile:function(){return this.allUserData.userData[0].storeProfile}}),methods:{removeMessage:function(e){this.$store.dispatch("deleteMessage",e)},closeModal:function(){this.isModalVisible=!1},viewProfile:function(e){this.$router.push({name:"customer-id",params:{id:e.userId,name:e.name}})},addMessage:function(){if(this.role.customer)if(this.newMessage){var e={storeId:this.storeProfile.storeId,storeEmail:this.storeProfile.storeEmail,storeName:this.storeProfile.storeName,storeOwnerImage:this.userProfile.storeOwnerImage,storePhoneNumber:this.storeProfile.storePhoneNumber,userId:this.user.uid,name:this.user.name,message:this.newMessage};this.$store.dispatch("chat/addMsg",e),this.newMessage=null,this.feedback=null}else this.feedback="You must enter a message in order to send one";if(this.role.admin)if(this.newMessage){var t={storeId:this.storeProfile.storeId,storeEmail:this.storeProfile.storeEmail,storeName:this.storeProfile.storeName,storeOwnerImage:this.userProfile.storeOwnerImage,storePhoneNumber:this.storeProfile.storePhoneNumber,userId:this.user.uid,name:this.user.name,message:this.newMessage};this.$store.dispatch("chat/addMsg",t),this.newMessage=null,this.feedback=null}else this.feedback="You must enter a message in order to send one"}},mounted:function(){var e=this;this.$store.dispatch("chat/loadMessages",this.user.uid),this.$store.dispatch("chat/loadMessages",this.user.uid),this.$store.dispatch("chat/loadReplies",this.user.uid),l.auth().onAuthStateChanged((function(t){t&&l.auth().currentUser.getIdTokenResult().then((function(t){t&&(e.role=t.claims)}))}))}},v=n(41),f=n(75),h=n.n(f),k=n(454),_=n(117),D=n(53),x=n(455),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mx-auto"},[n("div",{staticClass:"new-message"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.addMessage()}}},[e.feedback?n("p",{staticClass:"red-text"},[e._v(e._s(e.feedback))]):e._e(),e._v(" "),n("v-textarea",{staticClass:"mb-3",attrs:{type:"text",name:"new-message",placeholder:"type in a message and press enter"},model:{value:e.newMessage,callback:function(t){e.newMessage=t},expression:"newMessage"}}),e._v(" "),n("v-btn",{attrs:{type:"submit"}},[e._v("Send Me")])],1)])]),e._v(" "),e.messages?e._e():n("v-list-item-content",[n("v-alert",{staticStyle:{cursor:"pointer"},attrs:{icon:"mdi-alert-circle-outline",text:"",type:"info"}},[n("span",[e._v(" You have no messages. ")])])],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VAlert:k.a,VBtn:_.a,VListItemContent:D.a,VTextarea:x.a})}}]);